name: "CodeQL"
on:
  push:
    branches: [ main ]
  pull_request:
    # The branches below must be a subset of the branches above
    branches: [ main ]



jobs:  
  Analyze:
      name: Analyze
      runs-on: ubuntu-latest
      permissions:
        actions: read
        contents: read
        security-events: write

      strategy:
        fail-fast: false
        matrix:
          language: [ 'javascript' ]
          thingsArray: ['new1','new2','new3','repo4']
          
      steps:
        
      - name: Checkout repository
        uses: actions/checkout@v2
        with:
            repository: dtest4554/${{matrix.thingsArray}}

        # Initializes the CodeQL tools for scanning.
      - name: Initialize CodeQL

        uses: github/codeql-action/init@v1
        
        with:
            languages: ${{ matrix.language }}
            config-file: ./.github/workflows/codeql/codeql-config.yml

      - name: Autobuild
        uses: github/codeql-action/autobuild@v1

      - name: Perform CodeQL Analysis
        uses: github/codeql-action/analyze@v1

