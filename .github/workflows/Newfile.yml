name: "CodeQL"
on:
  push:
    branches: [ main ]
  pull_request:
    # The branches below must be a subset of the branches above
    branches: [ main ]
  schedule:
    - cron: '32 8 * * 0'
    
env:
  things:
   -'12'
   -'34'
    
jobs:  
  Analyze:
      name: Analyze
      runs-on: ubuntu-latest
        - Apple
        - Orange
        - Strawberry  
        - Mango
      permissions:
        actions: read
        contents: read
        security-events: write

      strategy:
        fail-fast: false
        matrix:
          language: [ 'javascript' ]
          
      steps:
        
      - name: Checkout repository
        uses: actions/checkout@v2
        with:
            test: ${{ each thing in env.things }}
            repository: dtest4554/${{thing}}

        # Initializes the CodeQL tools for scanning.
      - name: Initialize CodeQL

        uses: github/codeql-action/init@v1

        with:
            languages: ${{ matrix.language }}
            disable-default-queries: true
            queries: dtest4554/CodeQL_repo/.github/workflows/codeql/custom-queries/javascript/codeInAttribute.ql@main, dtest4554/CodeQL_repo/.github/workflows/codeql/custom-queries/javascript/custom.ql@main, dtest4554/CodeQL_repo/.github/workflows/codeql/custom-queries/javascript/findingunsafeeval.ql@main 

      - name: Autobuild
        uses: github/codeql-action/autobuild@v1

      - name: Perform CodeQL Analysis
        uses: github/codeql-action/analyze@v1
